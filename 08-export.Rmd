# Exporting Data

Data is easy to export from `R`. Tables can be exported by piping to `readr::write_csv()`. For diagrams created in `ggplot2`, pipe to `ggsave()`. Sometimes it is necessary to reduce the resolution of Itrax XRF data, usually to facilitate direct comparison with some other lower resolution data. For example, if calibrating using ICP-MS sub-samples taken at 10 mm intervals, but the Itrax XRF scan is at 0.2 mm, it will be necessary to average 50 Itrax measurements for each ICP-MS measurement. This is facilitated using the `itrax_averaging()` function. Despite the name, the function can use any appropriate summary function (e.g. standard deviation `sd()` or median `median()`.)

```{r data_reduction, warning=FALSE}
# get the Ti mean and standard deviation in 10 mm intervals
head(data.frame(depthmin = itrax_averaging(CD166_19_xrf, 10)$depthmin,
                depthmax = itrax_averaging(CD166_19_xrf, 10)$depthmax,
                Ti_mean  = itrax_averaging(CD166_19_xrf, 10)$Ti,
                Ti_sd    = itrax_averaging(CD166_19_xrf, 10, fun = sd)$Ti))
```


## Diagnostics 
```{r version}
version
```

```{r test_tibble}
tibble(x = c("a", "b", "c"), y = 1:3)
```

```{r test_tibble2}
tibble(x = c("a", "b", "c"), y = 1:3) %>% group_by(x)
```
