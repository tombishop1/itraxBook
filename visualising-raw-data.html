<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.12 Visualising Raw Data | Using Itrax Data in R</title>
  <meta name="description" content="This book is a guide to importing, tidying, manipulating and analysing Itrax core scanner data in R." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="3.12 Visualising Raw Data | Using Itrax Data in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book is a guide to importing, tidying, manipulating and analysing Itrax core scanner data in R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.12 Visualising Raw Data | Using Itrax Data in R" />
  
  <meta name="twitter:description" content="This book is a guide to importing, tidying, manipulating and analysing Itrax core scanner data in R." />
  

<meta name="author" content="Thomas Bishop" />


<meta name="date" content="2021-04-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reversing-data.html"/>
<link rel="next" href="plotting.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Using Itrax Data in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="the-itraxr-package.html"><a href="the-itraxr-package.html"><i class="fa fa-check"></i><b>0.1</b> The itraxR Package</a></li>
<li class="chapter" data-level="0.2" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>0.2</b> Prerequisites</a></li>
<li class="chapter" data-level="0.3" data-path="example-data.html"><a href="example-data.html"><i class="fa fa-check"></i><b>0.3</b> Example Data</a></li>
<li class="chapter" data-level="0.4" data-path="utility-data.html"><a href="utility-data.html"><i class="fa fa-check"></i><b>0.4</b> Utility Data</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Data Structure</a><ul>
<li class="chapter" data-level="1.1" data-path="metadata.html"><a href="metadata.html"><i class="fa fa-check"></i><b>1.1</b> Metadata</a></li>
<li class="chapter" data-level="1.2" data-path="xrf-data.html"><a href="xrf-data.html"><i class="fa fa-check"></i><b>1.2</b> XRF Data</a></li>
<li class="chapter" data-level="1.3" data-path="optical-images.html"><a href="optical-images.html"><i class="fa fa-check"></i><b>1.3</b> Optical Images</a></li>
<li class="chapter" data-level="1.4" data-path="radiographic-images.html"><a href="radiographic-images.html"><i class="fa fa-check"></i><b>1.4</b> Radiographic Images</a></li>
<li class="chapter" data-level="1.5" data-path="magnetic-susceptability.html"><a href="magnetic-susceptability.html"><i class="fa fa-check"></i><b>1.5</b> Magnetic Susceptability</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="importing.html"><a href="importing.html"><i class="fa fa-check"></i><b>2</b> Importing Data</a><ul>
<li class="chapter" data-level="2.1" data-path="metadata-1.html"><a href="metadata-1.html"><i class="fa fa-check"></i><b>2.1</b> Metadata</a></li>
<li class="chapter" data-level="2.2" data-path="xrf-data-1.html"><a href="xrf-data-1.html"><i class="fa fa-check"></i><b>2.2</b> XRF Data</a><ul>
<li class="chapter" data-level="2.2.1" data-path="xrf-data-1.html"><a href="xrf-data-1.html#processed-data"><i class="fa fa-check"></i><b>2.2.1</b> Processed Data</a></li>
<li class="chapter" data-level="2.2.2" data-path="xrf-data-1.html"><a href="xrf-data-1.html#joining-xrf-data"><i class="fa fa-check"></i><b>2.2.2</b> Joining XRF Data</a></li>
<li class="chapter" data-level="2.2.3" data-path="xrf-data-1.html"><a href="xrf-data-1.html#raw-data"><i class="fa fa-check"></i><b>2.2.3</b> Raw Data</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="optical-images-1.html"><a href="optical-images-1.html"><i class="fa fa-check"></i><b>2.3</b> Optical Images</a></li>
<li class="chapter" data-level="2.4" data-path="radiographic-images-1.html"><a href="radiographic-images-1.html"><i class="fa fa-check"></i><b>2.4</b> Radiographic Images</a></li>
<li class="chapter" data-level="2.5" data-path="importing-everything.html"><a href="importing-everything.html"><i class="fa fa-check"></i><b>2.5</b> Importing Everything</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tidying-data.html"><a href="tidying-data.html"><i class="fa fa-check"></i><b>3</b> Tidying Data</a><ul>
<li class="chapter" data-level="3.1" data-path="low-count-rates.html"><a href="low-count-rates.html"><i class="fa fa-check"></i><b>3.1</b> Low Count Rates</a></li>
<li class="chapter" data-level="3.2" data-path="model-errors-mse.html"><a href="model-errors-mse.html"><i class="fa fa-check"></i><b>3.2</b> Model Errors (MSE)</a></li>
<li class="chapter" data-level="3.3" data-path="surface-slope.html"><a href="surface-slope.html"><i class="fa fa-check"></i><b>3.3</b> Surface Slope</a></li>
<li class="chapter" data-level="3.4" data-path="combining-validity-flags.html"><a href="combining-validity-flags.html"><i class="fa fa-check"></i><b>3.4</b> Combining “Validity” Flags</a></li>
<li class="chapter" data-level="3.5" data-path="tube-current.html"><a href="tube-current.html"><i class="fa fa-check"></i><b>3.5</b> Tube current</a></li>
<li class="chapter" data-level="3.6" data-path="dead-time.html"><a href="dead-time.html"><i class="fa fa-check"></i><b>3.6</b> Dead Time</a></li>
<li class="chapter" data-level="3.7" data-path="correcting-for-water-content.html"><a href="correcting-for-water-content.html"><i class="fa fa-check"></i><b>3.7</b> Correcting for Water Content</a></li>
<li class="chapter" data-level="3.8" data-path="correcting-grain-size.html"><a href="correcting-grain-size.html"><i class="fa fa-check"></i><b>3.8</b> Correcting Grain Size</a></li>
<li class="chapter" data-level="3.9" data-path="uncertainties.html"><a href="uncertainties.html"><i class="fa fa-check"></i><b>3.9</b> Uncertainties</a></li>
<li class="chapter" data-level="3.10" data-path="noisy-data.html"><a href="noisy-data.html"><i class="fa fa-check"></i><b>3.10</b> Noisy Data</a></li>
<li class="chapter" data-level="3.11" data-path="reversing-data.html"><a href="reversing-data.html"><i class="fa fa-check"></i><b>3.11</b> Reversing Data</a></li>
<li class="chapter" data-level="3.12" data-path="visualising-raw-data.html"><a href="visualising-raw-data.html"><i class="fa fa-check"></i><b>3.12</b> Visualising Raw Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>4</b> Plotting</a><ul>
<li class="chapter" data-level="4.1" data-path="plotting-xrf-data.html"><a href="plotting-xrf-data.html"><i class="fa fa-check"></i><b>4.1</b> Plotting XRF Data</a></li>
<li class="chapter" data-level="4.2" data-path="plotting-images.html"><a href="plotting-images.html"><i class="fa fa-check"></i><b>4.2</b> Plotting Images</a></li>
<li class="chapter" data-level="4.3" data-path="combining-images-with-xrf-data.html"><a href="combining-images-with-xrf-data.html"><i class="fa fa-check"></i><b>4.3</b> Combining Images with XRF Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="transforming-data.html"><a href="transforming-data.html"><i class="fa fa-check"></i><b>5</b> Transforming Data</a><ul>
<li class="chapter" data-level="5.1" data-path="ratios-and-normalisation.html"><a href="ratios-and-normalisation.html"><i class="fa fa-check"></i><b>5.1</b> Ratios and Normalisation</a></li>
<li class="chapter" data-level="5.2" data-path="running-mean-and-other-window-functions.html"><a href="running-mean-and-other-window-functions.html"><i class="fa fa-check"></i><b>5.2</b> Running Mean and Other Window Functions</a></li>
<li class="chapter" data-level="5.3" data-path="preparing-data-for-multivariate-data-analysis.html"><a href="preparing-data-for-multivariate-data-analysis.html"><i class="fa fa-check"></i><b>5.3</b> Preparing Data for Multivariate Data Analysis</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="multivariate-methods.html"><a href="multivariate-methods.html"><i class="fa fa-check"></i><b>6</b> Multivariate Methods</a><ul>
<li class="chapter" data-level="6.1" data-path="correlation-coefficients.html"><a href="correlation-coefficients.html"><i class="fa fa-check"></i><b>6.1</b> Correlation Coefficients</a></li>
<li class="chapter" data-level="6.2" data-path="unconstrained-cluster-analysis.html"><a href="unconstrained-cluster-analysis.html"><i class="fa fa-check"></i><b>6.2</b> Unconstrained Cluster Analysis</a></li>
<li class="chapter" data-level="6.3" data-path="constrained-cluster-analysis.html"><a href="constrained-cluster-analysis.html"><i class="fa fa-check"></i><b>6.3</b> Constrained Cluster Analysis</a></li>
<li class="chapter" data-level="6.4" data-path="principle-components-analysis.html"><a href="principle-components-analysis.html"><i class="fa fa-check"></i><b>6.4</b> Principle Components Analysis</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="calibrating-data.html"><a href="calibrating-data.html"><i class="fa fa-check"></i><b>7</b> Calibrating Data</a><ul>
<li class="chapter" data-level="7.1" data-path="suitable-methods.html"><a href="suitable-methods.html"><i class="fa fa-check"></i><b>7.1</b> Suitable Methods</a></li>
<li class="chapter" data-level="7.2" data-path="preparing-data.html"><a href="preparing-data.html"><i class="fa fa-check"></i><b>7.2</b> Preparing Data</a></li>
<li class="chapter" data-level="7.3" data-path="linear-methods.html"><a href="linear-methods.html"><i class="fa fa-check"></i><b>7.3</b> Linear Methods</a></li>
<li class="chapter" data-level="7.4" data-path="log-ratio-methods.html"><a href="log-ratio-methods.html"><i class="fa fa-check"></i><b>7.4</b> Log-Ratio Methods</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="exporting-data.html"><a href="exporting-data.html"><i class="fa fa-check"></i><b>8</b> Exporting Data</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using Itrax Data in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualising-raw-data" class="section level2">
<h2><span class="header-section-number">3.12</span> Visualising Raw Data</h2>
<p>A useful tool for investigating areas of high errors or other problems in the scan data is to visualise the raw spectral data. This shows a heat map of the spectra, and can be used to identify areas where particular spectral lines appear and disappear along the core. At its simplest, it can be used to produce a plot of a single scan section.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="visualising-raw-data.html#cb36-1"></a><span class="kw">itrax_restspectra</span>(<span class="st">&quot;CD166_19_S1/CD166_19_S1/XRF data/&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">invisible</span>()</span></code></pre></div>
<p><img src="itraxBook_files/figure-html/restspectra-1.png" width="672" /></p>
<p>By combining all of the sections, and joining the raw spectral data with the processed data from the <code>Results.txt</code> <code>Q-Spec</code> output file, it can be used as a very powerful diagnostic tool.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="visualising-raw-data.html#cb37-1"></a>spectra_join &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">xrf_data =</span> CD166_<span class="dv">19</span>_S1<span class="op">$</span>xrf, </span>
<span id="cb37-2"><a href="visualising-raw-data.html#cb37-2"></a>                         <span class="dt">spe_path =</span> <span class="st">&quot;CD166_19_S1/CD166_19_S1/XRF data/&quot;</span>,</span>
<span id="cb37-3"><a href="visualising-raw-data.html#cb37-3"></a>                         <span class="dt">label =</span> <span class="st">&quot;CD166_19_S1&quot;</span>){</span>
<span id="cb37-4"><a href="visualising-raw-data.html#cb37-4"></a>  </span>
<span id="cb37-5"><a href="visualising-raw-data.html#cb37-5"></a>  xrf &lt;-<span class="st"> </span>xrf_data <span class="op">%&gt;%</span></span>
<span id="cb37-6"><a href="visualising-raw-data.html#cb37-6"></a><span class="st">  </span><span class="kw">select</span>(depth, position, validity, filename) <span class="op">%&gt;%</span></span>
<span id="cb37-7"><a href="visualising-raw-data.html#cb37-7"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">filename =</span> filename <span class="op">%&gt;%</span></span>
<span id="cb37-8"><a href="visualising-raw-data.html#cb37-8"></a><span class="st">           </span><span class="kw">str_split</span>(<span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\\\</span><span class="st">&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb37-9"><a href="visualising-raw-data.html#cb37-9"></a><span class="st">           </span><span class="kw">sapply</span>(., <span class="st">`</span><span class="dt">[</span><span class="st">`</span>, <span class="dv">7</span>)</span>
<span id="cb37-10"><a href="visualising-raw-data.html#cb37-10"></a>         ) <span class="op">%&gt;%</span></span>
<span id="cb37-11"><a href="visualising-raw-data.html#cb37-11"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">label =</span> <span class="kw">as.factor</span>(label))</span>
<span id="cb37-12"><a href="visualising-raw-data.html#cb37-12"></a>  </span>
<span id="cb37-13"><a href="visualising-raw-data.html#cb37-13"></a>  spe &lt;-<span class="st"> </span><span class="kw">itrax_restspectra</span>(spe_path, <span class="dt">plot =</span> <span class="ot">FALSE</span>)</span>
<span id="cb37-14"><a href="visualising-raw-data.html#cb37-14"></a>  </span>
<span id="cb37-15"><a href="visualising-raw-data.html#cb37-15"></a>  spectra &lt;-<span class="st"> </span><span class="kw">left_join</span>(xrf, spe, <span class="dt">by =</span> <span class="st">&quot;filename&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb37-16"><a href="visualising-raw-data.html#cb37-16"></a><span class="st">    </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="op">-</span><span class="kw">c</span>(<span class="st">&quot;depth&quot;</span>, <span class="st">&quot;position&quot;</span>, <span class="st">&quot;validity&quot;</span>, <span class="st">&quot;filename&quot;</span>, <span class="st">&quot;label&quot;</span>), </span>
<span id="cb37-17"><a href="visualising-raw-data.html#cb37-17"></a>                 <span class="dt">names_to =</span> <span class="st">&quot;energy&quot;</span>, </span>
<span id="cb37-18"><a href="visualising-raw-data.html#cb37-18"></a>                 <span class="dt">values_to =</span> <span class="st">&quot;counts&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb37-19"><a href="visualising-raw-data.html#cb37-19"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">energy =</span> <span class="kw">as.numeric</span>(energy)) </span>
<span id="cb37-20"><a href="visualising-raw-data.html#cb37-20"></a>  </span>
<span id="cb37-21"><a href="visualising-raw-data.html#cb37-21"></a>  <span class="kw">return</span>(spectra)</span>
<span id="cb37-22"><a href="visualising-raw-data.html#cb37-22"></a>}</span>
<span id="cb37-23"><a href="visualising-raw-data.html#cb37-23"></a></span>
<span id="cb37-24"><a href="visualising-raw-data.html#cb37-24"></a><span class="kw">bind_rows</span>(<span class="kw">spectra_join</span>(<span class="dt">xrf_data =</span> CD166_<span class="dv">19</span>_S1<span class="op">$</span>xrf, </span>
<span id="cb37-25"><a href="visualising-raw-data.html#cb37-25"></a>                                  <span class="dt">spe_path =</span> <span class="st">&quot;CD166_19_S1/CD166_19_S1/XRF data/&quot;</span>,</span>
<span id="cb37-26"><a href="visualising-raw-data.html#cb37-26"></a>                                  <span class="dt">label =</span> <span class="st">&quot;CD166_19_S1&quot;</span>), </span>
<span id="cb37-27"><a href="visualising-raw-data.html#cb37-27"></a>                     <span class="kw">spectra_join</span>(<span class="dt">xrf_data =</span> CD166_<span class="dv">19</span>_S2<span class="op">$</span>xrf, </span>
<span id="cb37-28"><a href="visualising-raw-data.html#cb37-28"></a>                                  <span class="dt">spe_path =</span> <span class="st">&quot;CD166_19_S2/CD166_19_S2/XRF data/&quot;</span>,</span>
<span id="cb37-29"><a href="visualising-raw-data.html#cb37-29"></a>                                  <span class="dt">label =</span> <span class="st">&quot;CD166_19_S2&quot;</span>), </span>
<span id="cb37-30"><a href="visualising-raw-data.html#cb37-30"></a>                     <span class="kw">spectra_join</span>(<span class="dt">xrf_data =</span> CD166_<span class="dv">19</span>_S3<span class="op">$</span>xrf, </span>
<span id="cb37-31"><a href="visualising-raw-data.html#cb37-31"></a>                                  <span class="dt">spe_path =</span> <span class="st">&quot;CD166_19_S3/CD166_19_S3/XRF data/&quot;</span>,</span>
<span id="cb37-32"><a href="visualising-raw-data.html#cb37-32"></a>                                  <span class="dt">label =</span> <span class="st">&quot;CD166_19_S3&quot;</span>)</span>
<span id="cb37-33"><a href="visualising-raw-data.html#cb37-33"></a>          ) <span class="op">%&gt;%</span></span>
<span id="cb37-34"><a href="visualising-raw-data.html#cb37-34"></a></span>
<span id="cb37-35"><a href="visualising-raw-data.html#cb37-35"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> energy, <span class="dt">y =</span> depth, <span class="dt">fill =</span> counts)) <span class="op">+</span></span>
<span id="cb37-36"><a href="visualising-raw-data.html#cb37-36"></a><span class="st">  </span><span class="kw">geom_tile</span>() <span class="op">+</span></span>
<span id="cb37-37"><a href="visualising-raw-data.html#cb37-37"></a><span class="st">  </span><span class="kw">scale_fill_gradient</span>(<span class="dt">name =</span> <span class="st">&quot;value&quot;</span>,</span>
<span id="cb37-38"><a href="visualising-raw-data.html#cb37-38"></a>                      <span class="dt">trans =</span> <span class="st">&quot;pseudo_log&quot;</span>,</span>
<span id="cb37-39"><a href="visualising-raw-data.html#cb37-39"></a>                      <span class="dt">low =</span> <span class="st">&quot;#132B43&quot;</span>,</span>
<span id="cb37-40"><a href="visualising-raw-data.html#cb37-40"></a>                      <span class="dt">high =</span> <span class="st">&quot;#56B1F7&quot;</span>,</span>
<span id="cb37-41"><a href="visualising-raw-data.html#cb37-41"></a>                      <span class="dt">labels =</span> round) <span class="op">+</span></span>
<span id="cb37-42"><a href="visualising-raw-data.html#cb37-42"></a><span class="st">  </span><span class="kw">scale_y_reverse</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="kw">max</span>(CD166_<span class="dv">19</span>_xrf<span class="op">$</span>depth), <span class="dt">by =</span> <span class="dv">500</span>)) <span class="op">+</span></span>
<span id="cb37-43"><a href="visualising-raw-data.html#cb37-43"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;energy [k eV]&quot;</span>) <span class="op">+</span></span>
<span id="cb37-44"><a href="visualising-raw-data.html#cb37-44"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;depth [mm]&quot;</span>) <span class="op">+</span></span>
<span id="cb37-45"><a href="visualising-raw-data.html#cb37-45"></a><span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb37-46"><a href="visualising-raw-data.html#cb37-46"></a><span class="st">  </span><span class="kw">facet_grid</span>(<span class="dt">rows =</span> <span class="kw">vars</span>(label),</span>
<span id="cb37-47"><a href="visualising-raw-data.html#cb37-47"></a>             <span class="dt">scales =</span> <span class="st">&quot;free_y&quot;</span>,</span>
<span id="cb37-48"><a href="visualising-raw-data.html#cb37-48"></a>             <span class="dt">space =</span> <span class="st">&quot;free_y&quot;</span>)</span></code></pre></div>
<p><img src="itraxBook_files/figure-html/spectra2-1.png" width="672" /></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="visualising-raw-data.html#cb38-1"></a><span class="kw">rm</span>(spectra_join)</span></code></pre></div>

</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="reversing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="plotting.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["itraxBook.pdf", "itraxBook.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
